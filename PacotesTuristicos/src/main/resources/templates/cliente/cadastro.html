<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
        xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity">
    <head>
        <title th:text="#{clientes.cadastrar.titulo}">Cadastrar cliente</title>
    </head>

    <body>
        <div th:replace="fragments/alert"></div>
        <form th:action="${cliente.id == null} ? @{/clientes/salvar} : @{/clientes/editar}"
                th:object="${cliente}" method="POST">
            
            <label for="email" th:text="#{clientes.listar.email}">E-mail</label>
            <input type="text" id="email" th:field="*{email}" />
            <span th:errors="*{email}"></span>
            
            <label for="senha" th:text="#{clientes.listar.senha}">Senha</label>
            <input type="text" id="senha" th:field="*{senha}" th:readonly="${cliente.id != null}" />
            <span th:errors="*{senha}"></span>

            <label for="cpf" th:text="#{clientes.listar.cpf}">Cpf</label>
            <input type="text" id="cpf" th:field="*{cpf}" />
            <span th:errors="*{senha}"></span>

            <br />

            <label for="nome" th:text="#{clientes.listar.nome}">Nome</label>
            <input type="text" id="nome" th:field="*{nome}" />
            <span th:errors="*{nome}"></span>

            <label for="telefone" th:text="#{clientes.listar.telefone}">Telefone</label>
            <input type="text" id="telefone" th:field="*{telefone}" />
            <span th:errors="*{telefone}"></span>
            
            <label for="sexo" th:text="#{clientes.listar.sexo}">Sexo</label>
            <select id="sexo" th:field="*{sexo}" >
                <option value="MASCULINO" th:text="#{clientes.cadastrar.sexo.masculino}" >Masculino</option>
                <option value="FEMININO" th:text="#{clientes.cadastrar.sexo.feminino}" >Feminino</option>
            </select>
            <span th:errors="*{sexo}"></span>

            <br />

            <label for="dataNasc" th:text="#{clientes.listar.dataNasc}">Data de Nascimento</label>
            <input type="text" id="dataNasc" th:field="*{dataNasc}" />
            <span th:errors="*{dataNasc}"></span>

            <label for="papel" th:text="#{clientes.listar.papel}">Papel</label>
            <select id="papel" th:field="*{papel}" >
                <option value="ROLE_CLIENTE" th:text="#{clientes.cadastrar.papel.cliente}" >Cliente</option>
                <option value="ROLE_AGENCIA" th:text="#{clientes.cadastrar.papel.agencia}" >Agencia</option>
            </select>
            <span th:errors="*{papel}"></span>

            <br />

            <input type="hidden" id="id" th:field="*{id}" />
            <input type="submit" id="cliente-submit" name="cliente-submit" value="Submit" />
        </form><br />
        
        <a href="javascript:history.back()" th:text="#{clientes.cadastrar.link.anterior}">Cancelar</a><br />
        <a th:href="@{/home}" th:text="#{clientes.cadastrar.link.home}">Voltar ao Menu Principal</a>
    </body>
</html>